{% extends "base.html" %}

{% block title %}Sign Up - Postfy{% endblock %}

{% block content %}
<section class="signup-form">
    <h2>Create an account</h2>
    <p>Enter your information to get started</p>
    <form method="POST" action="{{ url_for('signup') }}" enctype="multipart/form-data">
        <div class="name-fields">
            <div class="form-group">
                <label for="first_name">First Name</label>
                <input type="text" id="first_name" name="first_name" placeholder="Ahmed" required>
            </div>
            <div class="form-group">
                <label for="last_name">Last Name</label>
                <input type="text" id="last_name" name="last_name" placeholder="Ali" required>
            </div>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Ahmed@example.com" required>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" placeholder="Enter your password" required>
        </div>
        <div class="form-group">
            <label for="gender">Gender</label>
            <select id="gender" name="gender" required>
                <option value="">Select your gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>
        </div>
        <div class="form-group">
            <label for="profile_picture">Profile Picture (Optional)</label>
            <div class="file-upload-container">
                <input type="file" id="profile_picture" name="profile_picture" accept=".jpg, .jpeg, .png, .gif"
                    class="file-input">
                <label for="profile_picture" class="file-label">
                    <span class="file-icon">ðŸ“·</span>
                    <span class="file-text">Choose a file</span>
                </label>
                <span id="file-name" class="file-name">No file chosen</span>
            </div>
        </div>
        <button type="submit" class="cta-btn">Create Account</button>
    </form>
    <p>Already have an account? <a href="{{ url_for('login') }}" class="cta-link">Login</a></p>
</section>

<style>
    /* File upload styling */
    .file-upload-container {
        display: flex;
        align-items: center;
        margin-top: 5px;
    }

    .file-input {
        position: absolute;
        width: 0.1px;
        height: 0.1px;
        opacity: 0;
        overflow: hidden;
        z-index: -1;
    }

    .file-label {
        display: inline-flex;
        align-items: center;
        padding: 10px 15px;
        background: linear-gradient(to right, var(--neon-purple), var(--neon-blue));
        color: white;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .file-label:hover {
        background: linear-gradient(to right, var(--neon-blue), var(--neon-purple));
        transform: translateY(-2px);
    }

    .file-icon {
        margin-right: 8px;
        font-size: 1.2rem;
    }

    .file-name {
        margin-left: 10px;
        color: var(--text-light);
        font-size: 0.9rem;
    }
</style>

<script>
    // Update file name display when a file is selected
    document.addEventListener('DOMContentLoaded', function () {
        const fileInput = document.getElementById('profile_picture');
        const fileName = document.getElementById('file-name');

        fileInput.addEventListener('change', function () {
            if (fileInput.files.length > 0) {
                fileName.textContent = fileInput.files[0].name;
            } else {
                fileName.textContent = 'No file chosen';
            }
        });
    });
</script>
{% endblock %}